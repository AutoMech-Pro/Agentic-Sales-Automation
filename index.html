<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic Sales Automation: n8n + Claude 3.7</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Custom Palette & Styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#0F172A',   // Slate 900
                            primary: '#3B82F6', // Blue 500
                            secondary: '#8B5CF6', // Violet 500
                            accent: '#F43F5E', // Rose 500
                            bg: '#F8FAFC',     // Slate 50
                            card: '#FFFFFF'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Chart Container Standards per Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            background-color: white;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        
        /* Flowchart Connector Lines (CSS-only, NO SVG) */
        .flow-line-vertical {
            width: 2px;
            height: 2rem;
            background-color: #CBD5E1;
            margin: 0 auto;
        }
        .flow-arrow-down {
            width: 0; 
            height: 0; 
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #CBD5E1;
            margin: 0 auto;
        }
        
        body {
            background-color: #F8FAFC;
            color: #1E293B;
        }
    </style>
    <!-- 
        Palette: Vibrant Future
        Primary: #3B82F6 (Electric Blue)
        Secondary: #8B5CF6 (Violet)
        Accent: #F43F5E (Rose)
        Analysis of Source Material:
        1. Topic: n8n workflow for sales emails using Claude 3.7.
        2. Key Steps: Trigger -> Mock/Real Data -> AI Generation -> Preview.
        3. Tech: OpenRouter, Anthropic, LinkedIn APIs.
    -->
    <!-- 
        Visual Choices Summary:
        1. Workflow Diagram -> HTML/CSS Grid -> Visualizes the 4-step logic from README.
        2. Efficiency Bar Chart -> Chart.js -> Compares manual research time vs n8n automation (implied benefit).
        3. Quality Radar Chart -> Chart.js -> Compares generic templates vs Claude 3.7 personalized outputs.
        4. Data Complexity -> Plotly 3D (WebGL) -> Visualizes how 3 inputs (Role, Activity, Company) converge to a hook.
        NO SVG used. NO Mermaid used.
    -->
    <!-- Plan Narrative Summary: 
         The story moves from the "Why" (Efficiency) to the "How" (Architecture) to the "What" (Quality of Output).
         It ends with practical "Next Steps" (Configuration).
    -->
</head>
<body class="antialiased">

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-slate-900 via-blue-900 to-violet-900 text-white py-16 px-4 mb-12 shadow-xl">
        <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight">Agentic Sales Automation</h1>
            <p class="text-xl md:text-2xl text-blue-100 font-light">Scaling Personalization with n8n, LinkedIn Data & Claude 3.7</p>
            <div class="mt-8 flex justify-center space-x-4 flex-wrap gap-2">
                <span class="bg-blue-500 bg-opacity-20 border border-blue-400 px-4 py-1 rounded-full text-sm">‚ö° n8n Workflow</span>
                <span class="bg-violet-500 bg-opacity-20 border border-violet-400 px-4 py-1 rounded-full text-sm">üß† Claude 3.7 Sonnet</span>
                <span class="bg-rose-500 bg-opacity-20 border border-rose-400 px-4 py-1 rounded-full text-sm">üîó OpenRouter API</span>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 pb-20 space-y-20">

        <!-- SECTION 1: THE EFFICIENCY GAP -->
        <section>
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-blue-500 pl-4">The Efficiency Gap</h2>
                <p class="mt-4 text-lg text-slate-600 max-w-3xl">
                    Traditional sales outreach requires researching a prospect's LinkedIn profile, digesting their "About" section, analyzing recent posts, and crafting a unique hook. This manual process is unscalable. The n8n workflow compresses this timeline dramatically.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- Text Context -->
                <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-rose-500 h-full">
                    <h3 class="text-xl font-bold mb-4">Manual vs. Automated Outreach</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-2xl mr-3">üê¢</span>
                            <div>
                                <strong class="block text-slate-800">Manual Research</strong>
                                <span class="text-slate-500 text-sm">15-20 minutes per lead to read profile, find posts, and write email.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-2xl mr-3">üöÄ</span>
                            <div>
                                <strong class="block text-slate-800">n8n + Claude 3.7</strong>
                                <span class="text-slate-500 text-sm">~30 seconds per lead. Infinite scalability via API loops.</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Visualization: Efficiency Bar Chart -->
                <div class="bg-white p-4 rounded-xl shadow-lg">
                    <div class="chart-container h-80 max-h-96 max-w-xl mx-auto">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-slate-500 mt-4 italic">Time allocation per single prospect outreach (Minutes)</p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: WORKFLOW ARCHITECTURE -->
        <section>
            <div class="mb-10 text-center">
                <h2 class="text-3xl font-bold text-slate-800 inline-block border-b-4 border-violet-500 pb-2">Workflow Architecture</h2>
                <p class="mt-4 text-lg text-slate-600 max-w-2xl mx-auto">
                    A visual breakdown of the `linkedin_sales_workflow.json` logic. The system ingests data, processes it through an LLM, and outputs a ready-to-send draft.
                </p>
            </div>

            <!-- HTML/CSS Flowchart (NO SVG) -->
            <div class="relative max-w-4xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    
                    <!-- Step 1 -->
                    <div class="flex flex-col items-center">
                        <div class="bg-slate-800 text-white p-6 rounded-lg shadow-xl w-full text-center relative z-10">
                            <div class="text-3xl mb-2">üëÜ</div>
                            <h4 class="font-bold">Manual Trigger</h4>
                            <p class="text-xs text-slate-400 mt-2">Start Workflow</p>
                        </div>
                        <div class="flow-line-vertical md:hidden"></div>
                        <div class="flow-arrow-down md:hidden"></div>
                    </div>

                    <!-- Step 2 -->
                    <div class="flex flex-col items-center">
                        <div class="bg-blue-600 text-white p-6 rounded-lg shadow-xl w-full text-center relative z-10">
                            <div class="text-3xl mb-2">üë§</div>
                            <h4 class="font-bold">Define Prospect</h4>
                            <p class="text-xs text-blue-200 mt-2">Mock Data / Proxycurl API</p>
                            <div class="mt-2 text-xs bg-blue-800 bg-opacity-50 p-1 rounded">Name, Role, Company, Posts</div>
                        </div>
                        <div class="flow-line-vertical md:hidden"></div>
                        <div class="flow-arrow-down md:hidden"></div>
                    </div>

                    <!-- Step 3 -->
                    <div class="flex flex-col items-center">
                        <div class="bg-violet-600 text-white p-6 rounded-lg shadow-xl w-full text-center relative z-10 ring-4 ring-violet-200">
                            <div class="text-3xl mb-2">üß†</div>
                            <h4 class="font-bold">Claude 3.7</h4>
                            <p class="text-xs text-violet-200 mt-2">OpenRouter API</p>
                            <div class="mt-2 text-xs bg-violet-800 bg-opacity-50 p-1 rounded">System Prompt + Context</div>
                        </div>
                        <div class="flow-line-vertical md:hidden"></div>
                        <div class="flow-arrow-down md:hidden"></div>
                    </div>

                    <!-- Step 4 -->
                    <div class="flex flex-col items-center">
                        <div class="bg-rose-500 text-white p-6 rounded-lg shadow-xl w-full text-center relative z-10">
                            <div class="text-3xl mb-2">üìß</div>
                            <h4 class="font-bold">Generate Email</h4>
                            <p class="text-xs text-rose-100 mt-2">Review Output</p>
                            <div class="mt-2 text-xs bg-rose-700 bg-opacity-50 p-1 rounded">&lt; 100 Words, Soft CTA</div>
                        </div>
                    </div>
                </div>
                
                <!-- Horizontal connectors for desktop -->
                <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-slate-200 -z-0 -mt-8"></div>
            </div>
        </section>

        <!-- SECTION 3: THE AI ADVANTAGE (QUALITY) -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                
                <!-- Visualization: Radar Chart -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                    <h3 class="text-lg font-bold text-center mb-2 text-slate-700">Message Quality Analysis</h3>
                    <div class="chart-container h-80 max-h-96 max-w-lg mx-auto">
                        <canvas id="qualityRadarChart"></canvas>
                    </div>
                </div>

                <!-- Narrative -->
                <div class="flex flex-col justify-center">
                    <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-violet-500 pl-4 mb-6">Why Claude 3.7?</h2>
                    <p class="text-lg text-slate-600 mb-6">
                        Generic sales templates often fail because they lack context. By feeding Claude 3.7 Sonnet specific data points‚Äîsuch as a prospect's "About" section or "Recent Post"‚Äîthe workflow generates emails that score significantly higher on relevance and personalization.
                    </p>
                    <div class="bg-violet-50 p-6 rounded-lg border border-violet-100">
                        <h4 class="font-bold text-violet-900 mb-2">Prompt Strategy Highlights:</h4>
                        <ul class="list-disc list-inside space-y-2 text-violet-800 text-sm">
                            <li><strong>Hook:</strong> Must reference specific recent activity.</li>
                            <li><strong>Length:</strong> Strictly under 100 words.</li>
                            <li><strong>Tone:</strong> Punchy, direct, SDR-style.</li>
                            <li><strong>CTA:</strong> Soft ask ("Worth a chat?") vs Hard ask.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: DATA DIMENSIONS (PLOTLY 3D) -->
        <section>
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-rose-500 pl-4">Triangulating the Perfect Hook</h2>
                <p class="mt-4 text-lg text-slate-600">
                    The AI doesn't just fill in blanks; it synthesizes multiple dimensions of data to find the most relevant angle. This visualization represents how Claude navigates the "Search Space" of a prospect's profile data to find the optimal personalization topic.
                </p>
            </div>

            <div class="bg-white p-2 rounded-xl shadow-lg border border-slate-200">
                <!-- Plotly Container -->
                <div id="plotlyDiv" class="w-full h-[500px] md:h-[600px] rounded-lg overflow-hidden"></div>
                <div class="p-4 bg-slate-50 text-center text-sm text-slate-500">
                    *Visualization of how three distinct data sources converge to form a high-confidence email hook. (Rendered via WebGL)
                </div>
            </div>
        </section>

        <!-- SECTION 5: IMPLEMENTATION CHECKLIST -->
        <section class="bg-slate-800 text-white rounded-2xl p-8 md:p-12 shadow-2xl">
            <h2 class="text-3xl font-bold mb-8 text-center text-blue-400">Implementation Checklist</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="bg-slate-700 p-6 rounded-lg border border-slate-600 hover:border-blue-400 transition-colors">
                    <div class="text-4xl mb-4">üîë</div>
                    <h3 class="text-xl font-bold mb-2">OpenRouter API</h3>
                    <p class="text-slate-300 text-sm mb-4">Get your API key to access Claude 3.7 Sonnet.</p>
                    <div class="bg-slate-800 p-2 rounded text-xs font-mono text-green-400">Authorization: Bearer KEY</div>
                </div>

                <!-- Card 2 -->
                <div class="bg-slate-700 p-6 rounded-lg border border-slate-600 hover:border-violet-400 transition-colors">
                    <div class="text-4xl mb-4">‚öôÔ∏è</div>
                    <h3 class="text-xl font-bold mb-2">n8n Workflow</h3>
                    <p class="text-slate-300 text-sm mb-4">Import `linkedin_sales_workflow.json` into your instance.</p>
                    <div class="bg-slate-800 p-2 rounded text-xs font-mono text-yellow-400">Import from File</div>
                </div>

                <!-- Card 3 -->
                <div class="bg-slate-700 p-6 rounded-lg border border-slate-600 hover:border-rose-400 transition-colors">
                    <div class="text-4xl mb-4">üîó</div>
                    <h3 class="text-xl font-bold mb-2">Data Source</h3>
                    <p class="text-slate-300 text-sm mb-4">Start with Mock Data, then upgrade to Proxycurl/RapidAPI.</p>
                    <div class="bg-slate-800 p-2 rounded text-xs font-mono text-pink-400">GET /api/v2/linkedin</div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-10 text-center border-t border-slate-800">
        <p>&copy; 2025 Sales Automation Insights. Generated based on n8n.io Community Workflows.</p>
        <p class="text-sm mt-2">Data visualizations rendered using Chart.js & Plotly (Canvas/WebGL).</p>
    </footer>

    <!-- SCRIPTS FOR VISUALIZATION -->
    <script>
        // --- UTILITY: Label Wrapping for Chart.js (Strict 16 char limit) ---
        function wrapLabel(label) {
            if (typeof label !== 'string' || label.length <= 16) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= 16) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- GLOBAL CHART DEFAULTS ---
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#64748B';
        
        // --- 1. EFFICIENCY CHART (BAR) ---
        const ctxEfficiency = document.getElementById('efficiencyChart').getContext('2d');
        const rawLabelsEfficiency = ['Profile Reading', 'Post Analysis', 'Hook Ideation', 'Drafting', 'n8n Automation'];
        const processedLabelsEfficiency = rawLabelsEfficiency.map(wrapLabel);

        new Chart(ctxEfficiency, {
            type: 'bar',
            data: {
                labels: processedLabelsEfficiency,
                datasets: [{
                    label: 'Time Spent (Minutes)',
                    data: [5, 4, 3, 5, 0.5], // Estimated data points
                    backgroundColor: [
                        'rgba(148, 163, 184, 0.5)', // Gray for manual
                        'rgba(148, 163, 184, 0.5)',
                        'rgba(148, 163, 184, 0.5)',
                        'rgba(148, 163, 184, 0.5)',
                        'rgba(59, 130, 246, 0.8)'   // Blue for Automation
                    ],
                    borderColor: [
                        'rgb(148, 163, 184)',
                        'rgb(148, 163, 184)',
                        'rgb(148, 163, 184)',
                        'rgb(148, 163, 184)',
                        'rgb(59, 130, 246)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                    return label.join(' ');
                                } else {
                                    return label;
                                }
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Minutes' }
                    }
                }
            }
        });

        // --- 2. QUALITY RADAR CHART ---
        const ctxQuality = document.getElementById('qualityRadarChart').getContext('2d');
        const rawLabelsQuality = ['Contextual Relevance', 'Brevity (<100 words)', 'Personalization Hook', 'Call to Action Clarity', 'Tone Consistency'];
        const processedLabelsQuality = rawLabelsQuality.map(wrapLabel);

        new Chart(ctxQuality, {
            type: 'radar',
            data: {
                labels: processedLabelsQuality,
                datasets: [{
                    label: 'Generic Template',
                    data: [20, 80, 10, 50, 60],
                    fill: true,
                    backgroundColor: 'rgba(148, 163, 184, 0.2)',
                    borderColor: 'rgb(148, 163, 184)',
                    pointBackgroundColor: 'rgb(148, 163, 184)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(148, 163, 184)'
                }, {
                    label: 'Claude 3.7 + n8n',
                    data: [95, 90, 95, 85, 90],
                    fill: true,
                    backgroundColor: 'rgba(139, 92, 246, 0.2)', // Violet
                    borderColor: 'rgb(139, 92, 246)',
                    pointBackgroundColor: 'rgb(139, 92, 246)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(139, 92, 246)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                    return label.join(' ');
                                } else {
                                    return label;
                                }
                            }
                        }
                    }
                },
                scales: {
                    r: {
                        angleLines: { color: '#E2E8F0' },
                        grid: { color: '#E2E8F0' },
                        pointLabels: {
                            font: { size: 11 }
                        },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                }
            }
        });

        // --- 3. PLOTLY 3D SCATTER (DATA DIMENSIONS) ---
        // Simulating the "Search Space" for a hook. 
        // X: Role Relevance, Y: Activity Recency, Z: Company Alignment
        
        const trace1 = {
            x: [10, 20, 30, 40, 50, 60, 70, 80, 90, 85, 75, 65, 55, 45, 35, 25, 15],
            y: [15, 25, 35, 45, 55, 65, 75, 85, 95, 80, 70, 60, 50, 40, 30, 20, 10],
            z: [20, 30, 40, 50, 60, 70, 80, 90, 99, 88, 77, 66, 55, 44, 33, 22, 11],
            mode: 'markers',
            marker: {
                size: 8,
                color: '#3B82F6', // Blue points (Data Points)
                opacity: 0.6
            },
            type: 'scatter3d',
            name: 'Data Points'
        };

        const trace2 = {
            x: [90], 
            y: [95], 
            z: [99],
            mode: 'markers',
            marker: {
                size: 15,
                color: '#F43F5E', // Rose point (The Hook)
                symbol: 'diamond',
                opacity: 1
            },
            type: 'scatter3d',
            name: 'Selected Hook'
        };

        const dataPlotly = [trace1, trace2];

        const layoutPlotly = {
            margin: { l: 0, r: 0, b: 0, t: 0 },
            paper_bgcolor: 'rgba(0,0,0,0)', // Transparent
            scene: {
                xaxis: { title: 'Role Match' },
                yaxis: { title: 'Recency' },
                zaxis: { title: 'Company Fit' },
                camera: {
                    eye: {x: 1.5, y: 1.5, z: 1.5}
                }
            },
            showlegend: true,
            legend: { x: 0.7, y: 0.9 }
        };

        // Enforce WebGL via 'scatter3d' which is standard in Plotly for 3D
        Plotly.newPlot('plotlyDiv', dataPlotly, layoutPlotly, {responsive: true, displayModeBar: false});

    </script>
</body>
</html>
